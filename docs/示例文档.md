设置状态栏
UIUtils.StatusBar.translucentStatusBar(this)

UIUtils.StatusBar.setStatusBarLightMode(this, false)

UIUtils.NavigationBar.setNavigationBarColor(this, ContextCompat.getColor(this, R.color.black))

实现：AB ZLab Android 客户端SDK调用指南

平台：https://data.in.zhihu.com/ab/owner/exp/36600221

tag：ZLabAndroid，ZLabABTestApiRequestHelper

请求地址：

https://api.zhihu.com/lab/api/config




RN** **

13261244006 test1234

端口占用

查询端口进程

lsof**  **-I: 8081

杀死进程

kill -9**  **pid

# 重置 webpack 缓存启动，红屏不知道怎么解决时可以试试有奇效

yarn start --reset-cache

# 安装 adb

brew install android-platform-tools

# 端口映射，用于 USB 连接调试时让手机能访问到电脑的 localhost:8081

adb reverse tcp:8081 tcp:8081

hdc rport tcp:8081 tcp:8081

# 操作手机摇一摇

# 或直接在 `yarn start` 的终端内按 r 键

adb shell input keyevent 82

# 唤起 rn 页面（目前仅支持一个路由，参数可自定义)

adb shell am start -a android.intent.action.VIEW -d "zhihu://react/entry?q=赵\&t=people"

#adb 不显示日志

react-native log-ios

react-native log-android

打bundle包

yarn bundle harmony --rn-version=72 ** **

推送 remote 仓库

git push origin {branch-name}

git pull zhihu {master}

合并git -commit

git rebase -i HEAD～2 （几步骤）

:2,$s/pick/squash/g

合并commit

git reset HEAD~2（几个步骤）

**指定本地分支的远程分支**

git branch --set-upstream-to=zhihu/release-10.34.0 feat-bugfix

可以，按你的需求有两种方式。

- **本地已存在 `bugfix-update-text` 分支：**

```bash


git fetch zhihu release-10.71.0


git checkout bugfix-update-text


git branch --set-upstream-to=zhihu/release-10.71.0


```

- **本地还没有该分支（直接创建并跟踪远端）：**

```bash


git fetch zhihu release-10.71.0


git checkout -b bugfix-update-text --track zhihu/release-10.71.0


```

查看依赖数

** **./gradlew :app:dependencies

# 确保使用连接飞连后使用 VPN IP 访问

yarn bundle:serve

#指定node版本

open ~/.zshrc

nvm off **                    **// 禁用node.js版本管理(不卸载任何东西)

nvm on**                      **// 启用node.js版本管理

nvm install `<version>` **      **// 安装node.js的命名 version是版本号 例如：nvm install 8.12.0

nvm uninstall `<version>` **    **// 卸载node.js是的命令，卸载指定版本的nodejs，当安装失败时卸载使用

nvm ls**                      **// 显示所有已安装的node.js版本

nvm list available**          **// 显示可以安装的所有node.js的版本

nvm use `<version>` **          **// 切换到使用指定的nodejs版本

nvm v **                      **// 显示nvm版本

nvm install stable**          **// 安装最新稳定版

**Gradlew 命令**

查看版本

./gradlew --version

**构建**

./gradlew build

clean** **

./gradlew clean

构建并打包react_entry:

./gradlew :react_entry:assembleDebug

查看依赖树

./gradlew**  **app:dependencies

./gradlew**  **app:dependencies > dependencies.txt

安装

./gradlew installDebug

停止守护进程

./gradlew —stop

刷新依赖

./gradlew build --refresh-dependencies

**ADB命令**

查询crash

**	**adb logcat -b crash

**	**adb logcat -b crash > crash_log.txt

**	**adb logcat -s `<tag>`：过滤显示特定标签的日志 ^3^ 。

重启设备

**	**adb reboot

查看设备

**	**adb devices

安装apk

**	**adb install -t -r path_to_apk

卸载apk

**	**adb uninstall [options] 包名

启动一个activity

**	**adb shell am start -a android.intent.action.VIEW -d "https://www.zhihu.com/market/pdfreader?business_type=paid_magazine&business_id=1685880377997217792"

** **adb shell am start -a android.intent.action.VIEW -d "zhihu://community/short_pin_editor?tab=pin"

adb push `<local>` `<remote>`：将本地文件复制到设备

adb pull `<remote>` `<local>`：将设备上的文件复制到本地计算机

编译java为class

**	**javac MyClass.java

查看编译后的clazz文件

**	**javap -verbose MyClass.class

关闭adb 服务

adb**  **kill-server** **

投屏逻辑

[https://developer.aliyun.com/article/1397205](https://developer.aliyun.com/article/1397205)

1.安装：brew install scrcpy

2.启动： scrcpy

Mac 更新系统后，xcrun消失，Androidstuido 编译失败

需要重新安装下：xcode-select --install** **

build 失败：feature_build_mode:false

// 停止 gradle：./gradlew --stop** **

//打包： ./gradlew :react_entry:assembleDebug --no-daemon

打包：./gradlew**  **app:assembleMrRelease --no-daemon

//把多次 commit 合并成一个

git reset --soft 4e49903e36（commitID）

git commit -m **“**message **信息“** ** **





**依赖扫描**

| **描述** | 命令                                         | 生成目标文件                                     |
| -------------- | -------------------------------------------- | ------------------------------------------------ |
| 生成依赖文件   | python3 generate_dependencies_api.py         | dependencies_api.txt                             |
| 生成报告       | python3 enhanced_zhihu_report.py             | zhihu_dependencies_enhanced_report.html`` |
| 打开报告       | open zhihu_dependencies_enhanced_report.html | ``                                        |
